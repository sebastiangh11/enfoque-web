---
import Container from "./Container.astro";
import Button from "./Button.astro";

const steps = [
  {
    number: "01",
    title: "Brief y objetivos",
    description: "Entendemos tu marca, espacio y necesidades.",
    icon: "brief",
  },
  {
    number: "02",
    title: "Diseño y propuesta",
    description: "Presentamos renders, materiales y presupuesto.",
    icon: "design",
  },
  {
    number: "03",
    title: "Producción premium",
    description: "Fabricamos con control de calidad y tiempos claros.",
    icon: "production",
  },
  {
    number: "04",
    title: "Instalación y entrega",
    description: "Montaje profesional y resultados listos para impactar.",
    icon: "install",
  },
];
---

<section id="proceso" class="process-preview relative overflow-hidden border-t border-border py-16 md:py-20">
  <div class="process-preview-bg absolute inset-0" aria-hidden="true"></div>

  <Container class="relative">
    <div class="text-center">
      <p class="text-xs font-semibold uppercase tracking-[0.32em] text-brand-blue">Proceso</p>
      <h2 class="mt-3 text-3xl font-bold text-text-primary md:text-4xl">
        Un proceso claro, sin fricciones
      </h2>
      <p class="mx-auto mt-4 max-w-2xl text-text-secondary">
        Te acompañamos desde la idea hasta la instalación final, con un flujo probado en más de 500 proyectos.
      </p>
    </div>

    <div class="mt-12 grid gap-6 md:grid-cols-2 lg:grid-cols-4">
      {steps.map((step) => (
        <article class="group flex h-full flex-col rounded-2xl border border-border bg-surface p-6 shadow-sm transition-all duration-200 hover:-translate-y-1 hover:shadow-md">
          <div class="flex items-start justify-between">
            <span class="inline-flex items-center rounded-full border border-border bg-surface-soft px-3 py-1 text-xs font-semibold text-text-secondary">
              {step.number}
            </span>
            <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl border border-border bg-surface-soft text-brand-blue">
              {step.icon === "brief" && (
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2m-9 0h10a2 2 0 012 2v9a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2z" />
                </svg>
              )}
              {step.icon === "design" && (
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 0a2 2 0 00-2 2h4a2 2 0 00-2-2zm0 2v2m-7 8h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2v5a2 2 0 002 2z" />
                </svg>
              )}
              {step.icon === "production" && (
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-7 6h8m-8-12h8M6 7h.01M6 12h.01M6 17h.01" />
                </svg>
              )}
              {step.icon === "install" && (
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 7l2 12h12l2-12M9 7V5a3 3 0 016 0v2" />
                </svg>
              )}
            </span>
          </div>

          <h3 class="mt-5 text-lg font-semibold text-text-primary">{step.title}</h3>
          <p class="mt-2 text-sm text-text-secondary">{step.description}</p>

          <div class="mt-auto pt-6">
            <span class="inline-flex items-center gap-2 text-sm font-semibold text-brand-orange">
              Ver detalle
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </span>
          </div>
        </article>
      ))}
    </div>

    <div class="mt-12 flex flex-col items-center justify-center gap-3 sm:flex-row">
      <Button href="/#contacto" variant="primary" size="md">
        Cotizar proyecto
      </Button>
      <Button href="/#portafolio" variant="secondary" size="md">
        Ver portafolio
      </Button>
    </div>
  </Container>
</section>

<style>
  .process-preview-bg {
    background:
      radial-gradient(circle at top, color-mix(in srgb, var(--brand-blue) 10%, transparent), transparent 55%),
      radial-gradient(circle at 20% 20%, color-mix(in srgb, var(--brand-orange) 8%, transparent), transparent 45%);
    opacity: 0.9;
    pointer-events: none;
  }
</style>
